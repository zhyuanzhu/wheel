<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <user-card></user-card>
  <hr style="margin: 20px 0;">
  <template id="userCardTemplate">
    <style>
      .image {
        width: 300px;
        height: 300px;
      }
      p {
        margin-bottom: 1em;
      }
    </style>
    <div class="container">
      <p class="name">User Name</p>
      <p class="email">UserEmail@xxxx.com</p>
    </div>
    <img src="https://t7.baidu.com/it/u=1819248061,230866778&fm=193&f=GIF" alt="" class="image">
  </template>
  <user-card
    image="https://t7.baidu.com/it/u=1819248061,230866778&fm=193&f=GIF"
    name="User Name"
    email="这儿应该有个邮箱吧"
  ></user-card>
  <script>
    class UserCard extends HTMLElement {
      constructor() {
        super()
        // 标识 Shadow DOM 是封闭的，不允许外部访问
        // 在外部使用 document.querySelector 无法获取到内部的元素
        const shadow = this.attachShadow( { mode: 'closed' } )


        const image = document.createElement('img')
        image.src = 'https://t7.baidu.com/it/u=1819248061,230866778&fm=193&f=GIF'
        image.classList.add('image')

        const container = document.createElement('div')
        container.classList.add('container')
        
        const p = document.createElement('p')
        p.classList.add('name')
        p.textContent = 'User Name'

        const email = document.createElement('p')
        email.classList.add('email')
        email.innerText = '123456@xxxx.com'

        const btn = document.createElement('button')
        btn.classList.add('btn')
        btn.innerHTML = 'Click Button'

        container.append(p, email, btn)
        this.append(image, container)

        const tpl = document.querySelector('#userCardTemplate')
        const content = tpl.content.cloneNode(true)
        // this.append(content)

        // 将 内容添加到 Shadow DOM 中
        shadow.append(content)

      }
    }

    window.customElements.define('user-card', UserCard)
  </script>
</body>
</html>